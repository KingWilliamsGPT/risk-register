{% extends "base.html" %}
{% load static %}

{% block body_attrs %} class="h-100" {% endblock body_attrs %}


{% block contents %}
  <div class="authincation h-100">
    <div class="container h-100">
      <div class="row justify-content-center h-100 align-items-center">
        <div class="col-md-6">
          <div class="authincation-content">
            <div class="row no-gutters">
              <div class="col-xl-12">
                <div class="auth-form">
                  <div class="text-center mb-3">
                    <a href="index.html"><img src="{% static 'logo.jpg' %}" alt=""></a>
                  </div>
                  <h4 class="text-center mb-4">Login with Codes</h4>
                  <form method="post">
                    {% csrf_token %}

                    {% if messages %}
                      <div class="form-group">
                        {% for message in messages %}
                          {% if 'success' in message.tags %}
                            <div class="alert alert-secondary alert-dismissible fade show">
                              <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="me-2"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
                              <strong>Done!</strong> {{ message }}
                              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                          {% else %}
                            <div class="alert alert-danger alert-dismissible fade show">
                              <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="me-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
                              <strong>Hmmm!</strong> {{ message }}
                              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                          {% endif %}
                        {% endfor %}
                      </div>
                  {% endif %}

	                {% if form.errors %}
	                    <div class="alert alert-danger">
	                        <ul class="mb-0">
	                            {% for field, errors in form.errors.items %}
	                                {% for error in errors %}
	                                    <li><strong>{{ field|capfirst }}:</strong> {{ error }}</li>
	                                {% endfor %}
	                            {% endfor %}
	                        </ul>
	                    </div>
	                {% endif %}


                    <div class="form-group">
                      {{ form.username }}
                    </div>
                    <div>
                    	<p class="">Enter any 3 recovery code in any order.</p>
                    </div>
                    <div class="row">
	                    <div class="col-lg-3">
		                    <div class="form-group">
		                      {{ form.code1 }}
		                    </div>
		                </div>
	                    <div class="col-lg-3">
		                    <div class="form-group">
		                      {{ form.code2 }}
		                    </div>
		                </div>
	                    <div class="col-lg-3">
		                    <div class="form-group">
		                      {{ form.code3 }}
		                    </div>
		                </div>
                    </div>

                    <div class="text-center">
                      <button type="submit" class="btn btn-primary light btn-block">SUBMIT</button>
                    </div>
                  </form>
                  <div class="new-account mt-3">
                    <p class="mb-0 pb-0">Use password instead? <a class="text-primary" href="{% url 'login' %}">Sign in</a></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock contents %}