{% extends "base.html" %}
{% load static %}


{% block body_attrs %} class="h-100" {% endblock body_attrs %}

{% block title %}P. English | Register{% endblock title %}

{% block contents %}
<div class="authincation h-100">
  <div class="container h-100">
    <div class="row justify-content-center h-100 align-items-center">
      <div class="col-md-6">
        <div class="authincation-content">
          <div class="row no-gutters">
            <div class="col-xl-12">
              <div class="auth-form">
                <div class="text-center mb-3">
                  <a href="index.html"><img src="{% static 'logo.jpg' %}" alt=""></a>
                </div>
                <h4 class="text-center mb-4">Sign in your account</h4>

                <form method="post">
                  {% csrf_token %}

                  {% if messages %}
                    <div class="form-group">
                      {% for message in messages %}
                        {% if 'success' in message.tags %}
                          <div class="alert alert-secondary alert-dismissible fade show">
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="me-2"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
                            <strong>Done!</strong> {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                          </div>
                        {% else %}
                          <div class="alert alert-danger alert-dismissible fade show">
                            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="me-2"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
                            <strong>Hmmm!</strong> {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                          </div>
                        {% endif %}
                      {% endfor %}
                    </div>
                  {% endif %}
                  
                  <div class="form-group">
                    <label class="mb-1 form-label">First Name</label>
                    {{ form.first_name }}
                  </div>
                  <div class="form-group">
                    <label class="mb-1 form-label">Second Name</label>
                    {{ form.last_name }}
                  </div>
                  <div class="form-group">
                    <label class="mb-1 form-label">User Name</label>
                    {{ form.username }}
                  </div>
                  <div class="form-group">
                    <label class="mb-1 form-label">Email</label>
                    {{ form.email }}
                  </div>

                  <div class="mb-2 position-relative">
                    <label class="mb-1 form-label">Password</label>
                    {{ form.password1 }}
                    <span class="show-pass eye" id="toggle-password1">

                      <i class="fa fa-eye-slash"></i>
                      <i class="fa fa-eye"></i>

                    </span>
                  </div>

                  <div class="mb-3">
                    <ul class="small container"><li> - Your password can’t be too similar to your other personal information.</li><li> - Your password must contain at least 8 characters.</li><li> - Your password can’t be a commonly used password.</li><li> - Your password can’t be entirely numeric.</li></ul>
                  </div>

                  <div class="mb-4 position-relative">
                    <label class="mb-1 form-label">Confirm Password</label>
                    {{ form.password2 }}
                    <span class="show-pass eye" id="toggle-password2">

                      <i class="fa fa-eye-slash"></i>
                      <i class="fa fa-eye"></i>

                    </span>
                  </div>

                  <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary light  btn-block">Sign me up</button>
                  </div>
                </form>

            <div class="new-account mt-3">
              <p>Already have an account? <a class="text-primary" href="{% url 'login' %}">Sign in</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
{% endblock contents %}

{% block more_scripts %}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const togglePassword1 = document.getElementById('toggle-password1');
      const passwordField1 = document.getElementById('password1');
      
      const togglePassword2 = document.getElementById('toggle-password2');
      const passwordField2 = document.getElementById('password2');
  
      togglePassword1.addEventListener('click', function () {
          // Toggle the type attribute
          const type = passwordField1.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordField1.setAttribute('type', type);
      });
  
      togglePassword2.addEventListener('click', function () {
          // Toggle the type attribute
          const type = passwordField2.getAttribute('type') === 'password' ? 'text' : 'password';
          passwordField2.setAttribute('type', type);
      });
  });
  
  </script>
{% endblock more_scripts %}